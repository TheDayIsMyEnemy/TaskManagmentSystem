@model TasksIndexViewModel

@{
    ViewData["Title"] = "Tasks";
}

<script>

    $(document).ready(function () {
        var element = $('create-task');
        $('.btn').click(function (event) {
            var url = $(this).data('url');
            $.get(url).done(function (data) {
                console.log(data);
                element.html(data);
                element.show();
            });
        });
    });


</script>

<div class="tasks">
    <div class="search-container">
        <form asp-action="Search">
            <input asp-for="SearchInfo.SearchText" placeholder="Search" asp-action="Search" />
            <button type="submit">
                <i class="fa fa-search"></i>
            </button>
            <div>
                <label></label>
            </div>
        </form>
    </div>


    <button class="btn" data-url="@Url.Action("Create")">Create task</button>

    <div class="create-task">
       
    </div>

    @if (Model.Tasks.Count() > 0)
    {
        @await Html.PartialAsync("_TaskListPartial", Model.Tasks)
    }
    else
    {
        <p>There are no tasks.</p>
    }
    @if (Model.PaginationInfo.TotalPages > 1)
    {
        @await Html.PartialAsync("_PaginationPartial", Model.PaginationInfo)
    }
</div>